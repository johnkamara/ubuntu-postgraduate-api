-- //////////NMC_OA///////////////

CREATE TABLE GC2006_RELEASE.NMC_OA(
ID NUMBER(12,0) NOT NULL PRIMARY KEY,
OFERTA_ID NUMBER(10,0) NOT NULL,
SPA_ID NUMBER(10,0)NOT NULL,
CLIENTE_ID NUMBER(10,0)NOT NULL,
VENDEDOR_ID NUMBER(10,0) NOT NULL,
DELEGACION_ID NUMBER(10,0) NOT NULL,
CANAL_ENTRADA_ID NUMBER(10,0) DEFAULT 1 NOT NULL,
COLABORADOR_ID NUMBER(10,0),
VENDEDOR2_ID NUMBER(10,0),
CAMPANIA_ID NUMBER(10,0),
PLAN_ID NUMBER(3,0) NOT NULL,
SERPA NUMBER(1,0) DEFAULT 1 NOT NULL,
RENOVABLE NUMBER(1,0) NOT NULL,
FECHA_PRESUPUESTO DATE NOT NULL,
CENTROS NUMBER(4,0),
TRABAJADORES NUMBER(6,0),
RMIC NUMBER(6,0),
ESTADO_ID NUMBER(2,0) DEFAULT 5 NOT NULL,
CONTRATO_ID NUMBER(10,0),
IPC NUMBER(1,0) NOT NULL,
FECHA_SERVICIOS_PREVIOS DATE,
FECHA_CONTRATO DATE NOT NULL,
ANIOS_CONTRATO NUMBER(4,0) NOT NULL,
LICITACION NUMBER(1,0) DEFAULT 0 NOT NULL,
OBSEVACIONES VARCHAR2(2000 BYTE),
PROGRAMACION_ED NUMBER(1,0) DEFAULT 0,
RECIBIDO NUMBER(1,0) DEFAULT 0,
PRL_CENTRO_PPAL_ID NUMBER(10,0),
PRL_GESTOR_TECNICO_ID NUMBER(10,0),
PRL_UBSG_ME_ID NUMBER(10,0),
PRL_UBSG_DE_ID NUMBER(10,0),
PRL_UBSG_PL_ID NUMBER(10,0),
CARTERAS_IMPORTACION_ID NUMBER(10,0),
CARTERAS_RMIC_INICIAL NUMBER(10,0),
ACEPTADO DATE,
ACEPTADO_POR NUMBER(10,0),
ADMON_OK NUMBER(1,0),
ADMON_OK_FECHA DATE,
ADMON_OK_POR NUMBER(10,0),
DOCDIG_RUTA VARCHAR2(500 BYTE),
DOCDIG_FECHA DATE,
DOCDIG_POR NUMBER(10,0),
DOCDIG_OBS VARCHAR2(2000 BYTE)
);

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."ID" IS 'PK. Secuencia: NMC_OA_SEQ';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."OFERTA_ID" IS 'FK1 que referencia a GC2006_RELEASE.NMC_OFERTAS.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."SPA_ID" IS 'FK2 que referencia a GC2006_RELEASE.TM_ENTIDADES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."CLIENTE_ID" IS 'FK3 que referencia a GC2006_RELEASE.PC_CLIENTES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."VENDEDOR_ID" IS 'FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
Partiendo de la premisa de que podrán ofertar servicios
comerciales y técnicos inicialmente, se pasa a nombrar el
campo comercial_id como vendedor_id';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."DELEGACION_ID" IS 'FK5 que referencia a GC2006_RELEASE.PC_DELEGACIONES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."CANAL_ENTRADA_ID" IS 'Establece el canal de entrada de la oferta.
Por defecto será 1 que es Puerta Fría
FK 6 GC2006_RELEASE.PC_TIPOS_ENTRADA';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."COLABORADOR_ID" IS 'Para aquellas ofertas con canal de entrada distinto de Puerta
fría recogerá el colaborador que puede operar en la oferta
FK7 que referencia a GC2006_RELEASE.PC_COLABORADOR.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."VENDEDOR2_ID" IS 'Para aquellas ofertas con canal de entrada que implican la
colaboración interna Personal Interno o Contact Center
actualmente recogerá el usuario que interviene en la venta.
FK8 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."CAMPANIA_ID" IS 'FK9 que referencia a CRM.CAMPANIAS.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."PLAN_ID" IS 'FK10 que referencia a GC2006_RELEASE.NMC_PLANES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."SERPA" IS 'Recoge si el contrato de la oferta será comunicado a SERPA o
 no.
Los valores posibles serán 1 y 0.
1 indica que es renovable y 0 que no lo es.
El valor por defecto será 1. Se almacenará en el momento de
crear la oferta el valor correspondiente según';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."RENOVABLE" IS 'Recoge si el servicio al cliente será renovable o no.
Los valores posibles serán 1 y 0.
1 indica que es renovable y 0 que no lo es.
El valor por defecto será 1.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."FECHA_PRESUPUESTO" IS 'Recoge la fecha de la oferta.
No puede ser null';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."CENTROS" IS 'Recoge el número de centros recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."TRABAJADORES" IS 'Recoge el número de trabajadores recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."RMIC" IS 'Recoge el número de reconocimientos médicos incluidos en
contrato recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."ESTADO_ID" IS ' Recoge el estado de la oferta.
FK11 que referencia a :
GC2006_RELEASE.NMC_OFERTAS_ESTADOS.ID
Los valores posibles serán inicialmente 5:
• 10, Oferta
• 20, Contrato
• 30, Contrato Aceptado
• 40, Contrato de Baja no alcanzada
• 50, Contrato de Baja alcanzada
El valor por defecto será 10';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."CONTRATO_ID" IS 'FK12 que referencia a GC2006_RELEASE.CT_CONTRATOLD.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."IPC" IS 'Indica si aplica IPC a la renovación';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."ANIOS_CONTRATO" IS 'Del 1 al maximo definido';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."PROGRAMACION_ED" IS '1 en caso de que el contrato exija planificacion por año natural, de 1 de Enero a 31 de Diciembre';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."PRL_CENTRO_PPAL_ID" IS 'FK13 GC2006_RELEASE.PC_CENTROS.ID. Identificador de centro principal de la oferta.';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."PRL_GESTOR_TECNICO_ID" IS 'Gestor del contrato.
FK14 que referencia a  PC_USUARIOS.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."PRL_UBSG_ME_ID" IS 'ID del médico del trabajo que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."PRL_UBSG_DE_ID" IS 'ID del DUE de Empresa que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."PRL_UBSG_PL_ID" IS 'ID del Planificador que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."ACEPTADO" IS 'Fecha en la que se acepta el contrato';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA"."ACEPTADO_POR" IS 'Usuario que acepta el contrato.
FK15 que referencia a PC_USUARIOS.ID';

ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK1" FOREIGN KEY (OFERTA_ID) REFERENCES GC2006_RELEASE.NMC_OFERTAS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK2" FOREIGN KEY  (SPA_ID) REFERENCES GC2006_RELEASE.TM_ENTIDADES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK3" FOREIGN KEY  (CLIENTE_ID) REFERENCES GC2006_RELEASE.PC_CLIENTES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK4" FOREIGN KEY  (VENDEDOR_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK5" FOREIGN KEY  (DELEGACION_ID) REFERENCES GC2006_RELEASE.PC_DELEGACIONES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK6" FOREIGN KEY  (CANAL_ENTRADA_ID) REFERENCES GC2006_RELEASE.PC_TIPOS_ENTRADA(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK7" FOREIGN KEY (COLABORADOR_ID) REFERENCES GC2006_RELEASE.PC_COLABORADOR(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK8" FOREIGN KEY (VENDEDOR2_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK9" FOREIGN KEY (CAMPANIA_ID) REFERENCES CRM.CAMPANIAS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK10" FOREIGN KEY (PLAN_ID) REFERENCES GC2006_RELEASE.NMC_PLANES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK11" FOREIGN KEY (ESTADO_ID) REFERENCES GC2006_RELEASE.NMC_OFERTAS_ESTADOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK12" FOREIGN KEY (CONTRATO_ID) REFERENCES GC2006_RELEASE.CT_CONTRATOLD(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK13" FOREIGN KEY (PRL_CENTRO_PPAL_ID) REFERENCES GC2006_RELEASE.PC_CENTROS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK14" FOREIGN KEY (PRL_GESTOR_TECNICO_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OA
ADD CONSTRAINT "NMC_OA_FK15" FOREIGN KEY (ACEPTADO_POR) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);

-- //////////////NMC_OAH_TIPO/////////

CREATE TABLE "GC2006_RELEASE"."NMC_OAH_TIPO"
   (	"ID" NUMBER(12,0),
	"NOMBRE" VARCHAR(200),
	"ESQUEMA" VARCHAR(200),
	"TABLA" VARCHAR(200),
	"CAMPO" VARCHAR(200)
   ) ;


  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAH_TIPO_PK" ON "GC2006_RELEASE"."NMC_OAH_TIPO" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_TIPO" ADD CONSTRAINT "NMC_OAH_TIPO_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_TIPO" MODIFY ("ID" NOT NULL ENABLE);


-- /////////////NMC_OAH/////////////

CREATE TABLE GC2006_RELEASE.NMC_OAH(
ID NUMBER(12,0) NOT NULL PRIMARY KEY,
OFERTA_ID NUMBER(10,0) NOT NULL,
SPA_ID NUMBER(10,0)NOT NULL,
CLIENTE_ID NUMBER(10,0)NOT NULL,
VENDEDOR_ID NUMBER(10,0) NOT NULL,
DELEGACION_ID NUMBER(10,0) NOT NULL,
CANAL_ENTRADA_ID NUMBER(10,0) DEFAULT 1 NOT NULL,
COLABORADOR_ID NUMBER(10,0),
VENDEDOR2_ID NUMBER(10,0),
CAMPANIA_ID NUMBER(10,0),
PLAN_ID NUMBER(3,0) NOT NULL,
SERPA NUMBER(1,0) DEFAULT 1 NOT NULL,
RENOVABLE NUMBER(1,0) NOT NULL,
FECHA_PRESUPUESTO DATE NOT NULL,
CENTROS NUMBER(4,0),
TRABAJADORES NUMBER(6,0),
RMIC NUMBER(6,0),
ESTADO_ID NUMBER(2,0) DEFAULT 5 NOT NULL,
CONTRATO_ID NUMBER(10,0),
IPC NUMBER(1,0) NOT NULL,
FECHA_SERVICIOS_PREVIOS DATE,
FECHA_CONTRATO DATE NOT NULL,
ANIOS_CONTRATO NUMBER(4,0) NOT NULL,
LICITACION NUMBER(1,0) DEFAULT 0 NOT NULL,
OBSEVACIONES VARCHAR2(2000 BYTE),
PROGRAMACION_ED NUMBER(1,0) DEFAULT 0,
RECIBIDO NUMBER(1,0) DEFAULT 0,
PRL_CENTRO_PPAL_ID NUMBER(10,0),
PRL_GESTOR_TECNICO_ID NUMBER(10,0),
PRL_UBSG_ME_ID NUMBER(10,0),
PRL_UBSG_DE_ID NUMBER(10,0),
PRL_UBSG_PL_ID NUMBER(10,0),
CARTERAS_IMPORTACION_ID NUMBER(10,0),
CARTERAS_RMIC_INICIAL NUMBER(10,0),
ACEPTADO DATE,
ACEPTADO_POR NUMBER(10,0),
ADMON_OK NUMBER(1,0),
ADMON_OK_FECHA DATE,
ADMON_OK_POR NUMBER(10,0),
DOCDIG_RUTA VARCHAR2(500 BYTE),
DOCDIG_FECHA DATE,
DOCDIG_POR NUMBER(10,0),
DOCDIG_OBS VARCHAR2(2000 BYTE),
MOTIVO_ID NUMBER(12,0),
MOTIVO_REGISTRO_ID NUMBER(12,0)
);

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."ID" IS 'PK. Secuencia: NMC_OA_SEQ';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."OFERTA_ID" IS 'FK1 que referencia a GC2006_RELEASE.NMC_OFERTAS.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."SPA_ID" IS 'FK2 que referencia a GC2006_RELEASE.TM_ENTIDADES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."CLIENTE_ID" IS 'FK3 que referencia a GC2006_RELEASE.PC_CLIENTES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."VENDEDOR_ID" IS 'FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
Partiendo de la premisa de que podrán ofertar servicios
comerciales y técnicos inicialmente, se pasa a nombrar el
campo comercial_id como vendedor_id';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."DELEGACION_ID" IS 'FK5 que referencia a GC2006_RELEASE.PC_DELEGACIONES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."CANAL_ENTRADA_ID" IS 'Establece el canal de entrada de la oferta.
Por defecto será 1 que es Puerta Fría
FK 6 GC2006_RELEASE.PC_TIPOS_ENTRADA';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."COLABORADOR_ID" IS 'Para aquellas ofertas con canal de entrada distinto de Puerta
fría recogerá el colaborador que puede operar en la oferta
FK7 que referencia a GC2006_RELEASE.PC_COLABORADOR.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."VENDEDOR2_ID" IS 'Para aquellas ofertas con canal de entrada que implican la
colaboración interna Personal Interno o Contact Center
actualmente recogerá el usuario que interviene en la venta.
FK8 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."CAMPANIA_ID" IS 'FK9 que referencia a CRM.CAMPANIAS.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."PLAN_ID" IS 'FK10 que referencia a GC2006_RELEASE.NMC_PLANES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."SERPA" IS 'Recoge si el contrato de la oferta será comunicado a SERPA o
 no.
Los valores posibles serán 1 y 0.
1 indica que es renovable y 0 que no lo es.
El valor por defecto será 1. Se almacenará en el momento de
crear la oferta el valor correspondiente según';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."RENOVABLE" IS 'Recoge si el servicio al cliente será renovable o no.
Los valores posibles serán 1 y 0.
1 indica que es renovable y 0 que no lo es.
El valor por defecto será 1.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."FECHA_PRESUPUESTO" IS 'Recoge la fecha de la oferta.
No puede ser null';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."CENTROS" IS 'Recoge el número de centros recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."TRABAJADORES" IS 'Recoge el número de trabajadores recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."RMIC" IS 'Recoge el número de reconocimientos médicos incluidos en
contrato recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."ESTADO_ID" IS ' Recoge el estado de la oferta.
FK11 que referencia a :
GC2006_RELEASE.NMC_OFERTAS_ESTADOS.ID
Los valores posibles serán inicialmente 5:
• 10, Oferta
• 20, Contrato
• 30, Contrato Aceptado
• 40, Contrato de Baja no alcanzada
• 50, Contrato de Baja alcanzada
El valor por defecto será 10';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."CONTRATO_ID" IS 'FK12 que referencia a GC2006_RELEASE.CT_CONTRATOLD.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."IPC" IS 'Indica si aplica IPC a la renovación';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."ANIOS_CONTRATO" IS 'Del 1 al maximo definido';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."PROGRAMACION_ED" IS '1 en caso de que el contrato exija planificacion por año natural, de 1 de Enero a 31 de Diciembre';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."PRL_CENTRO_PPAL_ID" IS 'FK13 GC2006_RELEASE.PC_CENTROS.ID. Identificador de centro principal de la oferta.';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."PRL_GESTOR_TECNICO_ID" IS 'Gestor del contrato.
FK14 que referencia a  PC_USUARIOS.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."PRL_UBSG_ME_ID" IS 'ID del médico del trabajo que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."PRL_UBSG_DE_ID" IS 'ID del DUE de Empresa que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."PRL_UBSG_PL_ID" IS 'ID del Planificador que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."ACEPTADO" IS 'Fecha en la que se acepta el contrato';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."ACEPTADO_POR" IS 'Usuario que acepta el contrato.
FK15 que referencia a PC_USUARIOS.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH"."MOTIVO_ID" IS 'FK16 que referencia a GC2006_RELEASE.NMC_OAH_TIPO.ID';

ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK1" FOREIGN KEY (OFERTA_ID) REFERENCES GC2006_RELEASE.NMC_OFERTAS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK2" FOREIGN KEY  (SPA_ID) REFERENCES GC2006_RELEASE.TM_ENTIDADES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK3" FOREIGN KEY  (CLIENTE_ID) REFERENCES GC2006_RELEASE.PC_CLIENTES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK4" FOREIGN KEY  (VENDEDOR_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK5" FOREIGN KEY  (DELEGACION_ID) REFERENCES GC2006_RELEASE.PC_DELEGACIONES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK6" FOREIGN KEY  (CANAL_ENTRADA_ID) REFERENCES GC2006_RELEASE.PC_TIPOS_ENTRADA(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK7" FOREIGN KEY (COLABORADOR_ID) REFERENCES GC2006_RELEASE.PC_COLABORADOR(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK8" FOREIGN KEY (VENDEDOR2_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK9" FOREIGN KEY (CAMPANIA_ID) REFERENCES CRM.CAMPANIAS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK10" FOREIGN KEY (PLAN_ID) REFERENCES GC2006_RELEASE.NMC_PLANES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK11" FOREIGN KEY (ESTADO_ID) REFERENCES GC2006_RELEASE.NMC_OFERTAS_ESTADOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK12" FOREIGN KEY (CONTRATO_ID) REFERENCES GC2006_RELEASE.CT_CONTRATOLD(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK13" FOREIGN KEY (PRL_CENTRO_PPAL_ID) REFERENCES GC2006_RELEASE.PC_CENTROS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK14" FOREIGN KEY (PRL_GESTOR_TECNICO_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK15" FOREIGN KEY (ACEPTADO_POR) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAH
ADD CONSTRAINT "NMC_OAH_FK16" FOREIGN KEY (MOTIVO_ID) REFERENCES GC2006_RELEASE.NMC_OAH_TIPO(ID);

-- /////////////NMC_OAP/////////////

CREATE TABLE GC2006_RELEASE.NMC_OAP(
ID NUMBER(12,0) NOT NULL PRIMARY KEY,
OFERTA_ID NUMBER(10,0) NOT NULL,
SPA_ID NUMBER(10,0)NOT NULL,
CLIENTE_ID NUMBER(10,0)NOT NULL,
VENDEDOR_ID NUMBER(10,0) NOT NULL,
DELEGACION_ID NUMBER(10,0) NOT NULL,
CANAL_ENTRADA_ID NUMBER(10,0) DEFAULT 1 NOT NULL,
COLABORADOR_ID NUMBER(10,0),
VENDEDOR2_ID NUMBER(10,0),
CAMPANIA_ID NUMBER(10,0),
PLAN_ID NUMBER(3,0) NOT NULL,
SERPA NUMBER(1,0) DEFAULT 1 NOT NULL,
RENOVABLE NUMBER(1,0) NOT NULL,
FECHA_PRESUPUESTO DATE NOT NULL,
CENTROS NUMBER(4,0),
TRABAJADORES NUMBER(6,0),
RMIC NUMBER(6,0),
ESTADO_ID NUMBER(2,0) DEFAULT 5 NOT NULL,
CONTRATO_ID NUMBER(10,0),
IPC NUMBER(1,0) NOT NULL,
FECHA_SERVICIOS_PREVIOS DATE,
FECHA_CONTRATO DATE NOT NULL,
ANIOS_CONTRATO NUMBER(4,0) NOT NULL,
LICITACION NUMBER(1,0) DEFAULT 0 NOT NULL,
OBSEVACIONES VARCHAR2(2000 BYTE),
PROGRAMACION_ED NUMBER(1,0) DEFAULT 0,
RECIBIDO NUMBER(1,0) DEFAULT 0,
PRL_CENTRO_PPAL_ID NUMBER(10,0),
PRL_GESTOR_TECNICO_ID NUMBER(10,0),
PRL_UBSG_ME_ID NUMBER(10,0),
PRL_UBSG_DE_ID NUMBER(10,0),
PRL_UBSG_PL_ID NUMBER(10,0),
CARTERAS_IMPORTACION_ID NUMBER(10,0),
CARTERAS_RMIC_INICIAL NUMBER(10,0),
ACEPTADO DATE,
ACEPTADO_POR NUMBER(10,0),
ADMON_OK NUMBER(1,0),
ADMON_OK_FECHA DATE,
ADMON_OK_POR NUMBER(10,0),
DOCDIG_RUTA VARCHAR2(500 BYTE),
DOCDIG_FECHA DATE,
DOCDIG_POR NUMBER(10,0),
DOCDIG_OBS VARCHAR2(2000 BYTE),
FECHA_ENTRADA_VIGOR DATE
);

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."ID" IS 'PK. Secuencia: NMC_OAP_SEQ';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."OFERTA_ID" IS 'FK1 que referencia a GC2006_RELEASE.NMC_OFERTAS.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."SPA_ID" IS 'FK2 que referencia a GC2006_RELEASE.TM_ENTIDADES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."CLIENTE_ID" IS 'FK3 que referencia a GC2006_RELEASE.PC_CLIENTES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."VENDEDOR_ID" IS 'FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
Partiendo de la premisa de que podrán ofertar servicios
comerciales y técnicos inicialmente, se pasa a nombrar el
campo comercial_id como vendedor_id';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."DELEGACION_ID" IS 'FK5 que referencia a GC2006_RELEASE.PC_DELEGACIONES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."CANAL_ENTRADA_ID" IS 'Establece el canal de entrada de la oferta.
Por defecto será 1 que es Puerta Fría
FK 6 GC2006_RELEASE.PC_TIPOS_ENTRADA';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."COLABORADOR_ID" IS 'Para aquellas ofertas con canal de entrada distinto de Puerta
fría recogerá el colaborador que puede operar en la oferta
FK7 que referencia a GC2006_RELEASE.PC_COLABORADOR.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."VENDEDOR2_ID" IS 'Para aquellas ofertas con canal de entrada que implican la
colaboración interna Personal Interno o Contact Center
actualmente recogerá el usuario que interviene en la venta.
FK8 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."CAMPANIA_ID" IS 'FK9 que referencia a CRM.CAMPANIAS.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."PLAN_ID" IS 'FK10 que referencia a GC2006_RELEASE.NMC_PLANES.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."SERPA" IS 'Recoge si el contrato de la oferta será comunicado a SERPA o
 no.
Los valores posibles serán 1 y 0.
1 indica que es renovable y 0 que no lo es.
El valor por defecto será 1. Se almacenará en el momento de
crear la oferta el valor correspondiente según';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."RENOVABLE" IS 'Recoge si el servicio al cliente será renovable o no.
Los valores posibles serán 1 y 0.
1 indica que es renovable y 0 que no lo es.
El valor por defecto será 1.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."FECHA_PRESUPUESTO" IS 'Recoge la fecha de la oferta.
No puede ser null';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."CENTROS" IS 'Recoge el número de centros recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."TRABAJADORES" IS 'Recoge el número de trabajadores recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."RMIC" IS 'Recoge el número de reconocimientos médicos incluidos en
contrato recogidos en la oferta.
Tan solo podrá ser NULL si el plan es Flexible Productos.';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."ESTADO_ID" IS ' Recoge el estado de la oferta.
FK11 que referencia a :
GC2006_RELEASE.NMC_OFERTAS_ESTADOS.ID
Los valores posibles serán inicialmente 5:
• 10, Oferta
• 20, Contrato
• 30, Contrato Aceptado
• 40, Contrato de Baja no alcanzada
• 50, Contrato de Baja alcanzada
El valor por defecto será 10';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."CONTRATO_ID" IS 'FK12 que referencia a GC2006_RELEASE.CT_CONTRATOLD.ID';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."IPC" IS 'Indica si aplica IPC a la renovación';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."ANIOS_CONTRATO" IS 'Del 1 al maximo definido';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."PROGRAMACION_ED" IS '1 en caso de que el contrato exija planificacion por año natural, de 1 de Enero a 31 de Diciembre';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."PRL_CENTRO_PPAL_ID" IS 'FK13 GC2006_RELEASE.PC_CENTROS.ID. Identificador de centro principal de la oferta.';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."PRL_GESTOR_TECNICO_ID" IS 'Gestor del contrato.
FK14 que referencia a  PC_USUARIOS.ID';

COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."PRL_UBSG_ME_ID" IS 'ID del médico del trabajo que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."PRL_UBSG_DE_ID" IS 'ID del DUE de Empresa que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."PRL_UBSG_PL_ID" IS 'ID del Planificador que compone la UBS Gestora para el Contrato del Cliente';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."ACEPTADO" IS 'Fecha en la que se acepta el contrato';
COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP"."ACEPTADO_POR" IS 'Usuario que acepta el contrato.
FK15 que referencia a PC_USUARIOS.ID';

ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK1" FOREIGN KEY (OFERTA_ID) REFERENCES GC2006_RELEASE.NMC_OFERTAS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK2" FOREIGN KEY  (SPA_ID) REFERENCES GC2006_RELEASE.TM_ENTIDADES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK3" FOREIGN KEY  (CLIENTE_ID) REFERENCES GC2006_RELEASE.PC_CLIENTES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK4" FOREIGN KEY  (VENDEDOR_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK5" FOREIGN KEY  (DELEGACION_ID) REFERENCES GC2006_RELEASE.PC_DELEGACIONES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK6" FOREIGN KEY  (CANAL_ENTRADA_ID) REFERENCES GC2006_RELEASE.PC_TIPOS_ENTRADA(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK7" FOREIGN KEY (COLABORADOR_ID) REFERENCES GC2006_RELEASE.PC_COLABORADOR(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK8" FOREIGN KEY (VENDEDOR2_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK9" FOREIGN KEY (CAMPANIA_ID) REFERENCES CRM.CAMPANIAS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK10" FOREIGN KEY (PLAN_ID) REFERENCES GC2006_RELEASE.NMC_PLANES(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK11" FOREIGN KEY (ESTADO_ID) REFERENCES GC2006_RELEASE.NMC_OFERTAS_ESTADOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK12" FOREIGN KEY (CONTRATO_ID) REFERENCES GC2006_RELEASE.CT_CONTRATOLD(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK13" FOREIGN KEY (PRL_CENTRO_PPAL_ID) REFERENCES GC2006_RELEASE.PC_CENTROS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK14" FOREIGN KEY (PRL_GESTOR_TECNICO_ID) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);
ALTER TABLE GC2006_RELEASE.NMC_OAP
ADD CONSTRAINT "NMC_OAP_FK15" FOREIGN KEY (ACEPTADO_POR) REFERENCES GC2006_RELEASE.PC_USUARIOS(ID);

-- ////////NMC_OA_x_ESPECIALIDADES///////

CREATE TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES"
   (	"ID" NUMBER(12,0),
  "OFERTA_ID" NUMBER(10,0),
	"NMC_OA_ID" NUMBER(12,0),
	"ESPECIALIDAD_ID" NUMBER(2,0),
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES"."ID" IS 'PK. Secuencia: NMC_OA_X_ESPECIALIDADES_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES"."OFERTA_ID" IS 'UK1. FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES"."NMC_OA_ID" IS 'UK1. FK2 que referencia a NMC_OA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES"."ESPECIALIDAD_ID" IS 'UK1. FK3 que referencia a NMC_ESPECIALIDADES.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES"."CREADO" IS 'Timestamp en el que se añade la especialidad a la oferta';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES"."CREADO_POR" IS 'Recoge el usuario que añade la especialidad a la oferta.
  FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

 CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES_PK" ON "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OA_X_ESPECIALIDADES_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" MODIFY ("NMC_OA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" MODIFY ("ESPECIALIDAD_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" MODIFY ("CREADO_POR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" MODIFY ("OFERTA_ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OA_X_ESPECIALIDADES_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OA_X_ESPECIALIDADES_FK2" FOREIGN KEY ("NMC_OA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OA" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OA_X_ESPECIALIDADES_FK3" FOREIGN KEY ("ESPECIALIDAD_ID")
	REFERENCES "GC2006_RELEASE"."NMC_ESPECIALIDADES" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OA_X_ESPECIALIDADES_FK4" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

-- ////////NMC_OAH_x_ESPECIALIDADES///////

CREATE TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES"
   (	"ID" NUMBER(12,0),
	"OFERTA_ID" NUMBER(10,0),
	"NMC_OAH_ID" NUMBER(12,0),
	"ESPECIALIDAD_ID" NUMBER(2,0),
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES"."ID" IS 'PK. Secuencia: NMC_OA_X_ESPECIALIDADES_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES"."OFERTA_ID" IS 'UK1. FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES"."NMC_OAH_ID" IS 'UK1. FK2 que referencia a NMC_OAH.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES"."ESPECIALIDAD_ID" IS 'UK1. FK3 que referencia a NMC_ESPECIALIDADES.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES"."CREADO" IS 'Timestamp en el que se añade la especialidad a la oferta';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES"."CREADO_POR" IS 'Recoge el usuario que añade la especialidad a la oferta.
  FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

 CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES_PK" ON "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAH_X_ESPECIALIDADES_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" MODIFY ("OFERTA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" MODIFY ("NMC_OAH_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" MODIFY ("ESPECIALIDAD_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" MODIFY ("CREADO_POR" NOT NULL ENABLE);


  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAH_X_ESPECIALIDADES_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAH_X_ESPECIALIDADES_FK2" FOREIGN KEY ("NMC_OAH_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OAH" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAH_X_ESPECIALIDADES_FK3" FOREIGN KEY ("ESPECIALIDAD_ID")
	REFERENCES "GC2006_RELEASE"."NMC_ESPECIALIDADES" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAH_X_ESPECIALIDADES_FK4" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;


-- ////////NMC_OAP_x_ESPECIALIDADES///////

CREATE TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES"
   (	"ID" NUMBER(12,0),
	"OFERTA_ID" NUMBER(10,0),
	"NMC_OAP_ID" NUMBER(12,0),
	"ESPECIALIDAD_ID" NUMBER(2,0),
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES"."ID" IS 'PK. Secuencia: NMC_OAP_X_ESPECIALIDADES_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES"."OFERTA_ID" IS 'UK1. FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES"."NMC_OAP_ID" IS 'UK1. FK2 que referencia a NMC_OAP.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES"."ESPECIALIDAD_ID" IS 'UK1. FK3 que referencia a NMC_ESPECIALIDADES.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES"."CREADO" IS 'Timestamp en el que se añade la especialidad a la oferta';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES"."CREADO_POR" IS 'Recoge el usuario que añade la especialidad a la oferta.
  FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

 CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES_PK" ON "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAP_X_ESPECIALIDADES_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" MODIFY ("OFERTA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" MODIFY ("NMC_OAP_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" MODIFY ("ESPECIALIDAD_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" MODIFY ("CREADO_POR" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAP_X_ESPECIALIDADES_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAP_X_ESPECIALIDADES_FK2" FOREIGN KEY ("NMC_OAP_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OAP" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAP_X_ESPECIALIDADES_FK3" FOREIGN KEY ("ESPECIALIDAD_ID")
	REFERENCES "GC2006_RELEASE"."NMC_ESPECIALIDADES" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES" ADD CONSTRAINT "NMC_OAP_X_ESPECIALIDADES_FK4" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;



-- ////////////NMC_OA_X_CENTROS//////////////

CREATE TABLE "GC2006_RELEASE"."NMC_OA_X_CENTROS"
   (	"ID" NUMBER(12,0),
  "OFERTA_ID" NUMBER(10,0),
	"NMC_OA_ID" NUMBER(12,0),
	"CENTRO_ID" NUMBER(10,0),
	"TRABAJADORES" NUMBER(5,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_CENTROS"."ID" IS 'PK. Secuencia: NMC_OA_X_CENTROS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_CENTROS"."OFERTA_ID" IS 'FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_CENTROS"."NMC_OA_ID" IS 'FK2 que referencia a NMC_OA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_CENTROS"."CENTRO_ID" IS 'FK3 que referencia a PC_CENTROS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_CENTROS"."TRABAJADORES" IS 'Numero de trabajadores para los que se contrata';

  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OA_X_CENTROS_PK" ON "GC2006_RELEASE"."NMC_OA_X_CENTROS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_CENTROS" ADD CONSTRAINT "NMC_OA_X_CENTROS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_CENTROS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_CENTROS" ADD CONSTRAINT "NMC_OA_X_CENTROS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_CENTROS" ADD CONSTRAINT "NMC_OA_X_CENTROS_FK2" FOREIGN KEY ("NMC_OA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OA" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_CENTROS" ADD CONSTRAINT "NMC_OA_X_CENTROS_FK3" FOREIGN KEY ("CENTRO_ID")
	REFERENCES "GC2006_RELEASE"."PC_CENTROS" ("ID") ENABLE;


-- ////////////NMC_OAH_X_CENTROS//////////////

CREATE TABLE "GC2006_RELEASE"."NMC_OAH_X_CENTROS"
   (	"ID" NUMBER(12,0),
  "OFERTA_ID" NUMBER(10,0),
	"NMC_OAH_ID" NUMBER(12,0),
	"CENTRO_ID" NUMBER(10,0),
	"TRABAJADORES" NUMBER(5,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_CENTROS"."ID" IS 'PK. Secuencia: NMC_OA_X_CENTROS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_CENTROS"."OFERTA_ID" IS 'FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_CENTROS"."NMC_OAH_ID" IS 'FK2 que referencia a NMC_OAH.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_CENTROS"."CENTRO_ID" IS 'FK3 que referencia a PC_CENTROS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_CENTROS"."TRABAJADORES" IS 'Numero de trabajadores para los que se contrata';

  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAH_X_CENTROS_PK" ON "GC2006_RELEASE"."NMC_OAH_X_CENTROS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_CENTROS" ADD CONSTRAINT "NMC_OAH_X_CENTROS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_CENTROS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_CENTROS" ADD CONSTRAINT "NMC_OAH_X_CENTROS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_CENTROS" ADD CONSTRAINT "NMC_OAH_X_CENTROS_FK2" FOREIGN KEY ("NMC_OAH_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OAH" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_CENTROS" ADD CONSTRAINT "NMC_OAH_X_CENTROS_FK3" FOREIGN KEY ("CENTRO_ID")
	REFERENCES "GC2006_RELEASE"."PC_CENTROS" ("ID") ENABLE;

-- ////////////NMC_OAP_X_CENTROS//////////////

CREATE TABLE "GC2006_RELEASE"."NMC_OAP_X_CENTROS"
   (	"ID" NUMBER(12,0),
  "OFERTA_ID" NUMBER(10,0),
	"NMC_OAP_ID" NUMBER(12,0),
	"CENTRO_ID" NUMBER(10,0),
	"TRABAJADORES" NUMBER(5,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_CENTROS"."ID" IS 'PK. Secuencia: NMC_OAP_X_CENTROS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_CENTROS"."OFERTA_ID" IS 'FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_CENTROS"."NMC_OAP_ID" IS 'FK2 que referencia a NMC_OAP.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_CENTROS"."CENTRO_ID" IS 'FK3 que referencia a PC_CENTROS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_CENTROS"."TRABAJADORES" IS 'Numero de trabajadores para los que se contrata';

  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAP_X_CENTROS_PK" ON "GC2006_RELEASE"."NMC_OAP_X_CENTROS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_CENTROS" ADD CONSTRAINT "NMC_OAP_X_CENTROS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_CENTROS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_CENTROS" ADD CONSTRAINT "NMC_OAP_X_CENTROS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_CENTROS" ADD CONSTRAINT "NMC_OAP_X_CENTROS_FK2" FOREIGN KEY ("NMC_OAP_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OAP" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_CENTROS" ADD CONSTRAINT "NMC_OAP_X_CENTROS_FK3" FOREIGN KEY ("CENTRO_ID")
	REFERENCES "GC2006_RELEASE"."PC_CENTROS" ("ID") ENABLE;

-- ////////////NMC_OA_X_PRODUCTOS//////////////

CREATE TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"
   (	"ID" NUMBER(12,0),
	"OFERTA_ID" NUMBER(10,0),
	"NMC_OA_ID" NUMBER(12,0),
	"PRODUCTO" VARCHAR2(2),
	"HORAS_MOSTRAR" NUMBER(1,0) DEFAULT 0,
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0),
	"MODIFICADO" TIMESTAMP (6),
	"MODIFICADO_POR" NUMBER(10,0),
	"TERMINOS_PAGO_ID" NUMBER(2,0),
	"FORMAS_PAGO_ID" NUMBER(10,0),
	"PERIODICIDAD_ID" NUMBER(2,0),
	"FP_GIRO_IBAN" VARCHAR2(50),
	"FP_GIRO_SWIFT" VARCHAR2(20),
	"FP_TRF_IBAN_ID" VARCHAR2(50),
	"PRECIO_ACTUALIZADO" NUMBER(13,5),
	"VARIABLE_ACTUALIZADO" NUMBER(13,5),
	"EXCESO_ACTUALIZADO" NUMBER(13,5),
	"SERPA_COMUNICAR" NUMBER(1,0) DEFAULT 0,
	"BAJA_FECHA" DATE,
	"BAJA_EFECTUADA" NUMBER(10,0),
	"BAJA_MOTIVO_ID" NUMBER(10,0),
	"BAJA_DOCDIG" VARCHAR2(500),
	"BAJA_DOCDIG_EXISTE" NUMBER(1,0) DEFAULT NULL,
	"BAJA_SERPA_PROCESO_ID" NUMBER(10,0),
	"PRODUCCION_NUEVA" NUMBER(2,0),
	"PRODUCCION_NUEVA_OBS" VARCHAR2(500)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."ID" IS 'PK. Secuencia: NMC_OA_X_PRODUCTOS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."OFERTA_ID" IS 'UK1. FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."NMC_OA_ID" IS 'UK1. FK2 que referencia a NMC_OA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."PRODUCTO" IS 'UK1. Identifica el producto al que se refiere la información de la
  oferta. Inicialmente los valores posibles serán dos: PT y VS';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."HORAS_MOSTRAR" IS 'Recoge si se debe mostrar el cliente las horas del producto en el
  caso de que el producto se oferte por Horas.
  Los valores posibles serán 1 y 0.
  1 indicará que se mostrará y 0 que no.
  Por defecto se informará 0 siempre salvo que se indique por el
  usuario que se desea mostrar la información al cliente.
  Actualmente 1 es solo posible en Plan SPA Flexible por Horas.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."CREADO" IS 'Timestamp en el que se añade el producto a la oferta.';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."CREADO_POR" IS 'Recoge el usuario que crea la oferta.
  FK3 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."MODIFICADO" IS 'Timestamp en el que se modifica por última vez datos del
  producto para la oferta.
  Al añadir un producto a una oferta se informará el mismo valor
  que en creado.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."MODIFICADO_POR" IS 'Recoge el usuario que modifica por última vez datos del producto para la oferta.
  FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
  Al añadir un producto a una oferta se informará el mismo valor
  que en creado_por';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."TERMINOS_PAGO_ID" IS 'FK5 que referencia a CT_TERMINOS_PAGO.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."FORMAS_PAGO_ID" IS 'FK6 que referencia a CT_FORMAS_PAGO.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."PERIODICIDAD_ID" IS 'FK7 que referencia a CT_PERIODICIDAD.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."FP_GIRO_IBAN" IS 'Forma de pago es igual a giro aquí se informara del iban';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."FP_GIRO_SWIFT" IS 'Forma de pago es igual a giro aquí se informara del swift';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."FP_TRF_IBAN_ID" IS 'Forma de pago es transferencia se informara del iban';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."SERPA_COMUNICAR" IS '1 = Si y 0 = No';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."BAJA_EFECTUADA" IS 'FK8 que referencia a PC_USUARIOS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."BAJA_MOTIVO_ID" IS 'FK9 que referencia a CT_MOTIVOS_BAJA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."BAJA_DOCDIG" IS 'Ruta de documento';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."BAJA_DOCDIG_EXISTE" IS 'Recogerá si existe el documento de baja en el momento de dar de baja';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."BAJA_SERPA_PROCESO_ID" IS 'Indica el id del proceso que ejecuta la comunicación a SERPA de la baja';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."PRODUCCION_NUEVA" IS '0->No deshabilitada, 1->deshabilitada';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS"."PRODUCCION_NUEVA_OBS" IS 'Observaciones si esta deshabilitada la DPO';


  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS_PK" ON "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" MODIFY ("SERPA_COMUNICAR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" MODIFY ("CREADO_POR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" MODIFY ("HORAS_MOSTRAR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" MODIFY ("NMC_OA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" MODIFY ("OFERTA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK2" FOREIGN KEY ("NMC_OA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OA" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK3" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK4" FOREIGN KEY ("MODIFICADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK5" FOREIGN KEY ("TERMINOS_PAGO_ID")
	REFERENCES "GC2006_RELEASE"."CT_TERMINOS_PAGO" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK6" FOREIGN KEY ("FORMAS_PAGO_ID")
	REFERENCES "GC2006_RELEASE"."CT_FORMAS_PAGO" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK7" FOREIGN KEY ("PERIODICIDAD_ID")
	REFERENCES "GC2006_RELEASE"."CT_PERIODICIDAD" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK8" FOREIGN KEY ("BAJA_EFECTUADA")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS" ADD CONSTRAINT "NMC_OA_X_PRODUCTOS_FK9" FOREIGN KEY ("BAJA_MOTIVO_ID")
	REFERENCES "GC2006_RELEASE"."CT_MOTIVOS_BAJA" ("ID") ENABLE;

-- ////////////NMC_OAH_X_PRODUCTOS//////////////

CREATE TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"
   (	"ID" NUMBER(12,0),
	"OFERTA_ID" NUMBER(10,0),
	"NMC_OAH_ID" NUMBER(12,0),
	"PRODUCTO" VARCHAR2(2),
	"HORAS_MOSTRAR" NUMBER(1,0) DEFAULT 0,
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0),
	"MODIFICADO" TIMESTAMP (6),
	"MODIFICADO_POR" NUMBER(10,0),
	"TERMINOS_PAGO_ID" NUMBER(2,0),
	"FORMAS_PAGO_ID" NUMBER(10,0),
	"PERIODICIDAD_ID" NUMBER(2,0),
	"FP_GIRO_IBAN" VARCHAR2(50),
	"FP_GIRO_SWIFT" VARCHAR2(20),
	"FP_TRF_IBAN_ID" VARCHAR2(50),
	"PRECIO_ACTUALIZADO" NUMBER(13,5),
	"VARIABLE_ACTUALIZADO" NUMBER(13,5),
	"EXCESO_ACTUALIZADO" NUMBER(13,5),
	"SERPA_COMUNICAR" NUMBER(1,0) DEFAULT 0,
	"BAJA_FECHA" DATE,
	"BAJA_EFECTUADA" NUMBER(10,0),
	"BAJA_MOTIVO_ID" NUMBER(10,0),
	"BAJA_DOCDIG" VARCHAR2(500),
	"BAJA_DOCDIG_EXISTE" NUMBER(1,0) DEFAULT NULL,
	"BAJA_SERPA_PROCESO_ID" NUMBER(10,0),
	"PRODUCCION_NUEVA" NUMBER(2,0),
	"PRODUCCION_NUEVA_OBS" VARCHAR2(500)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."ID" IS 'PK. Secuencia: NMC_OA_X_PRODUCTOS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."OFERTA_ID" IS 'UK1. FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."NMC_OAH_ID" IS 'UK1. FK2 que referencia a NMC_OAH.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."PRODUCTO" IS 'UK1. Identifica el producto al que se refiere la información de la
  oferta. Inicialmente los valores posibles serán dos: PT y VS';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."HORAS_MOSTRAR" IS 'Recoge si se debe mostrar el cliente las horas del producto en el
  caso de que el producto se oferte por Horas.
  Los valores posibles serán 1 y 0.
  1 indicará que se mostrará y 0 que no.
  Por defecto se informará 0 siempre salvo que se indique por el
  usuario que se desea mostrar la información al cliente.
  Actualmente 1 es solo posible en Plan SPA Flexible por Horas.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."CREADO" IS 'Timestamp en el que se añade el producto a la oferta.';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."CREADO_POR" IS 'Recoge el usuario que crea la oferta.
  FK3 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."MODIFICADO" IS 'Timestamp en el que se modifica por última vez datos del
  producto para la oferta.
  Al añadir un producto a una oferta se informará el mismo valor
  que en creado.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."MODIFICADO_POR" IS 'Recoge el usuario que modifica por última vez datos del producto para la oferta.
  FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
  Al añadir un producto a una oferta se informará el mismo valor
  que en creado_por';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."TERMINOS_PAGO_ID" IS 'FK5 que referencia a CT_TERMINOS_PAGO.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."FORMAS_PAGO_ID" IS 'FK6 que referencia a CT_FORMAS_PAGO.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."PERIODICIDAD_ID" IS 'FK7 que referencia a CT_PERIODICIDAD.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."FP_GIRO_IBAN" IS 'Forma de pago es igual a giro aquí se informara del iban';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."FP_GIRO_SWIFT" IS 'Forma de pago es igual a giro aquí se informara del swift';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."FP_TRF_IBAN_ID" IS 'Forma de pago es transferencia se informara del iban';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."SERPA_COMUNICAR" IS '1 = Si y 0 = No';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."BAJA_EFECTUADA" IS 'FK8 que referencia a PC_USUARIOS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."BAJA_MOTIVO_ID" IS 'FK9 que referencia a CT_MOTIVOS_BAJA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."BAJA_DOCDIG" IS 'Ruta de documento';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."BAJA_DOCDIG_EXISTE" IS 'Recogerá si existe el documento de baja en el momento de dar de baja';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."BAJA_SERPA_PROCESO_ID" IS 'Indica el id del proceso que ejecuta la comunicación a SERPA de la baja';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."PRODUCCION_NUEVA" IS '0->No deshabilitada, 1->deshabilitada';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS"."PRODUCCION_NUEVA_OBS" IS 'Observaciones si esta deshabilitada la DPO';

  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS_PK" ON "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" MODIFY ("SERPA_COMUNICAR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" MODIFY ("CREADO_POR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" MODIFY ("HORAS_MOSTRAR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" MODIFY ("NMC_OAH_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" MODIFY ("OFERTA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK2" FOREIGN KEY ("NMC_OAH_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OAH" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK3" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK4" FOREIGN KEY ("MODIFICADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK5" FOREIGN KEY ("TERMINOS_PAGO_ID")
	REFERENCES "GC2006_RELEASE"."CT_TERMINOS_PAGO" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK6" FOREIGN KEY ("FORMAS_PAGO_ID")
	REFERENCES "GC2006_RELEASE"."CT_FORMAS_PAGO" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK7" FOREIGN KEY ("PERIODICIDAD_ID")
	REFERENCES "GC2006_RELEASE"."CT_PERIODICIDAD" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK8" FOREIGN KEY ("BAJA_EFECTUADA")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAH_X_PRODUCTOS_FK9" FOREIGN KEY ("BAJA_MOTIVO_ID")
	REFERENCES "GC2006_RELEASE"."CT_MOTIVOS_BAJA" ("ID") ENABLE;


-- ////////////NMC_OAP_X_PRODUCTOS//////////////

CREATE TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"
   (	"ID" NUMBER(12,0),
	"OFERTA_ID" NUMBER(10,0),
	"NMC_OAP_ID" NUMBER(12,0),
	"PRODUCTO" VARCHAR2(2),
	"HORAS_MOSTRAR" NUMBER(1,0) DEFAULT 0,
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0),
	"MODIFICADO" TIMESTAMP (6),
	"MODIFICADO_POR" NUMBER(10,0),
	"TERMINOS_PAGO_ID" NUMBER(2,0),
	"FORMAS_PAGO_ID" NUMBER(10,0),
	"PERIODICIDAD_ID" NUMBER(2,0),
	"FP_GIRO_IBAN" VARCHAR2(50),
	"FP_GIRO_SWIFT" VARCHAR2(20),
	"FP_TRF_IBAN_ID" VARCHAR2(50),
	"PRECIO_ACTUALIZADO" NUMBER(13,5),
	"VARIABLE_ACTUALIZADO" NUMBER(13,5),
	"EXCESO_ACTUALIZADO" NUMBER(13,5),
	"SERPA_COMUNICAR" NUMBER(1,0) DEFAULT 0,
	"BAJA_FECHA" DATE,
	"BAJA_EFECTUADA" NUMBER(10,0),
	"BAJA_MOTIVO_ID" NUMBER(10,0),
	"BAJA_DOCDIG" VARCHAR2(500),
	"BAJA_DOCDIG_EXISTE" NUMBER(1,0) DEFAULT NULL,
	"BAJA_SERPA_PROCESO_ID" NUMBER(10,0),
	"PRODUCCION_NUEVA" NUMBER(2,0),
	"PRODUCCION_NUEVA_OBS" VARCHAR2(500)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."ID" IS 'PK. Secuencia: NMC_OAP_X_PRODUCTOS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."OFERTA_ID" IS 'UK1. FK1 que referencia a NMC_OFERTAS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."NMC_OAP_ID" IS 'UK1. FK2 que referencia a NMC_OAP.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."PRODUCTO" IS 'UK1. Identifica el producto al que se refiere la información de la
  oferta. Inicialmente los valores posibles serán dos: PT y VS';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."HORAS_MOSTRAR" IS 'Recoge si se debe mostrar el cliente las horas del producto en el
  caso de que el producto se oferte por Horas.
  Los valores posibles serán 1 y 0.
  1 indicará que se mostrará y 0 que no.
  Por defecto se informará 0 siempre salvo que se indique por el
  usuario que se desea mostrar la información al cliente.
  Actualmente 1 es solo posible en Plan SPA Flexible por Horas.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."CREADO" IS 'Timestamp en el que se añade el producto a la oferta.';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."CREADO_POR" IS 'Recoge el usuario que crea la oferta.
  FK3 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."MODIFICADO" IS 'Timestamp en el que se modifica por última vez datos del
  producto para la oferta.
  Al añadir un producto a una oferta se informará el mismo valor
  que en creado.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."MODIFICADO_POR" IS 'Recoge el usuario que modifica por última vez datos del producto para la oferta.
  FK4 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
  Al añadir un producto a una oferta se informará el mismo valor
  que en creado_por';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."TERMINOS_PAGO_ID" IS 'FK5 que referencia a CT_TERMINOS_PAGO.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."FORMAS_PAGO_ID" IS 'FK6 que referencia a CT_FORMAS_PAGO.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."PERIODICIDAD_ID" IS 'FK7 que referencia a CT_PERIODICIDAD.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."FP_GIRO_IBAN" IS 'Forma de pago es igual a giro aquí se informara del iban';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."FP_GIRO_SWIFT" IS 'Forma de pago es igual a giro aquí se informara del swift';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."FP_TRF_IBAN_ID" IS 'Forma de pago es transferencia se informara del iban';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."SERPA_COMUNICAR" IS '1 = Si y 0 = No';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."BAJA_EFECTUADA" IS 'FK8 que referencia a PC_USUARIOS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."BAJA_MOTIVO_ID" IS 'FK9 que referencia a CT_MOTIVOS_BAJA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."BAJA_DOCDIG" IS 'Ruta de documento';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."BAJA_DOCDIG_EXISTE" IS 'Recogerá si existe el documento de baja en el momento de dar de baja';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."BAJA_SERPA_PROCESO_ID" IS 'Indica el id del proceso que ejecuta la comunicación a SERPA de la baja';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."PRODUCCION_NUEVA" IS '0->No deshabilitada, 1->deshabilitada';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS"."PRODUCCION_NUEVA_OBS" IS 'Observaciones si esta deshabilitada la DPO';


  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS_PK" ON "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" MODIFY ("SERPA_COMUNICAR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" MODIFY ("CREADO_POR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" MODIFY ("HORAS_MOSTRAR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" MODIFY ("NMC_OAP_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" MODIFY ("OFERTA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK2" FOREIGN KEY ("NMC_OAP_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OAP" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK3" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK4" FOREIGN KEY ("MODIFICADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK5" FOREIGN KEY ("TERMINOS_PAGO_ID")
	REFERENCES "GC2006_RELEASE"."CT_TERMINOS_PAGO" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK6" FOREIGN KEY ("FORMAS_PAGO_ID")
	REFERENCES "GC2006_RELEASE"."CT_FORMAS_PAGO" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK7" FOREIGN KEY ("PERIODICIDAD_ID")
	REFERENCES "GC2006_RELEASE"."CT_PERIODICIDAD" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK8" FOREIGN KEY ("BAJA_EFECTUADA")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS" ADD CONSTRAINT "NMC_OAP_X_PRODUCTOS_FK9" FOREIGN KEY ("BAJA_MOTIVO_ID")
	REFERENCES "GC2006_RELEASE"."CT_MOTIVOS_BAJA" ("ID") ENABLE;


-- ////////////NMC_OA_X_SERVICIOS//////////////


CREATE TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"
   (	"ID" NUMBER(12,0),
	"OFERTA_ID" NUMBER(10,0),
	"NMC_OA_ID" NUMBER(12,0),
	"SERVICIO_ID" NUMBER(6,0),
	"DETALLE_ID" NUMBER(8,0),
	"PRODUCTO" VARCHAR2(2),
	"PRICING_ID" NUMBER(2,0),
	"UNIDADES" NUMBER(10,0),
	"PRECIO_UNITARIO_T" NUMBER(10,2),
	"PRECIO_UNITARIO_O" NUMBER(10,2),
	"PRECIO_T" NUMBER(10,2),
	"PRECIO_O" NUMBER(10,2),
	"CONDICIONES" VARCHAR2(1000),
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0),
	"MODIFICADO" TIMESTAMP (6),
	"MODIFICADO_POR" NUMBER(10,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."ID" IS 'PK. Secuencia: NMC_OA_X_SERVICIOS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."OFERTA_ID" IS 'UK1. FK1 referencia a NMC_OFERTA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."NMC_OA_ID" IS 'UK1. FK2 referencia a NMC_OA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."SERVICIO_ID" IS 'UK1. FK3 referencia a NMC_SERVICIOS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."DETALLE_ID" IS 'UK1. FK4 referencia a NMC_SERVICIOS_DETALLES.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."PRODUCTO" IS 'Identifica el producto al que se refiere la información de la
  oferta. Inicialmente los valores posibles serán dos: PT y VS.
  Todos los servicios de planes que implican la prestación de
  servicio como SPA deben informar al producto que aplican PT
  o VS.
  Para planes como el flexible productos este campo será
  NULL';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."PRICING_ID" IS 'FK 5. que referencia a NMC_TIPOS_PRICING.ID.
  Aquellos detalles de un servicio que no impliquen pricing pero
  que ofrezcan detalle sobre las actividades / servicios
  prestados en su contratacion llevaran en esta tabla registros
  cuyo tipo de pricing sera “Pricing No Necesario”';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."UNIDADES" IS 'Indicará el número de unidades incluidas en la oferta del
  detalle.
  Para los detalles de servicios con pricing precio unitario o sin
  necesidad de pricing será NULL';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."PRECIO_UNITARIO_T" IS 'Recoge el precio unitario teórico correspondiente al detalle del
  servicio indicado';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."PRECIO_UNITARIO_O" IS 'Recoge el precio unitario ofertado correspondiente al detalle
  del servicio indicado. Para todos los detalles cuyo pricing sea
  por unidades o por horas será el mismo valor que en
  precio_unitario_t ya que el usuario no puede modificarlo. Sin
  embargo para servicios con pricing, precio unitario, si que se
  puede modificar el precio unitario, este campo almacenará el
  precio ofertado al cliente.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."PRECIO_T" IS 'Recoge el precio teórico correspondiente al detalle del servicio
  indicado en función del resultado de multiplicar
  precio_unitario_t por unidades.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."PRECIO_O" IS 'Recoge el precio ofertado definitivo al detalle del servicio
  indicado por el usuario aplicando descuento.
  Para saber el % de descuento será suficiente con realizar el
  siguiente cálculo: 1 – (precio_o / precio_t)';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."CONDICIONES" IS 'Recogerá las condiciones particulares para la contratación del
  detalle particular.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."CREADO" IS 'Timestamp en el que se añade el detalle de servicio a la
  oferta.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."CREADO_POR" IS 'Recoge el usuario que añade el detalle de servicio a la oferta.
  FK6 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."MODIFICADO" IS 'Timestamp en el que se modifica por última vez el detalle de
  servicio a la oferta.
  Al añadir un detalle de servicio a una oferta se informará el
  mismo valor que en creado';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OA_X_SERVICIOS"."MODIFICADO_POR" IS 'Recoge el usuario que modifica por última vez el detalle de
  servicio en una oferta.
  FK7 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
  Al añadir un detalle de servicio a una oferta se informará el
  mismo valor que en creado';


  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OA_X_SERVICIOS_PK" ON "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ADD CONSTRAINT "NMC_OA_X_SERVICIOS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("PRECIO_O" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("PRECIO_T" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("CREADO_POR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("PRECIO_UNITARIO_O" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("PRECIO_UNITARIO_T" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("PRICING_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("DETALLE_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("SERVICIO_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("NMC_OA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("OFERTA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ADD CONSTRAINT "NMC_OA_X_SERVICIOS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

	ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ADD CONSTRAINT "NMC_OA_X_SERVICIOS_FK2" FOREIGN KEY ("NMC_OA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OA" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ADD CONSTRAINT "NMC_OA_X_SERVICIOS_FK3" FOREIGN KEY ("SERVICIO_ID")
	REFERENCES "GC2006_RELEASE"."NMC_SERVICIOS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ADD CONSTRAINT "NMC_OA_X_SERVICIOS_FK4" FOREIGN KEY ("DETALLE_ID")
	REFERENCES "GC2006_RELEASE"."NMC_SERVICIOS_DETALLES" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ADD CONSTRAINT "NMC_OA_X_SERVICIOS_FK5" FOREIGN KEY ("PRICING_ID")
	REFERENCES "GC2006_RELEASE"."NMC_TIPOS_PRICING" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ADD CONSTRAINT "NMC_OA_X_SERVICIOS_FK6" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OA_X_SERVICIOS" ADD CONSTRAINT "NMC_OA_X_SERVICIOS_FK7" FOREIGN KEY ("MODIFICADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

-- ////////////NMC_OAH_X_SERVICIOS//////////////


CREATE TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"
   (	"ID" NUMBER(12,0),
	"OFERTA_ID" NUMBER(10,0),
	"NMC_OAH_ID" NUMBER(12,0),
	"SERVICIO_ID" NUMBER(6,0),
	"DETALLE_ID" NUMBER(8,0),
	"PRODUCTO" VARCHAR2(2),
	"PRICING_ID" NUMBER(2,0),
	"UNIDADES" NUMBER(10,0),
	"PRECIO_UNITARIO_T" NUMBER(10,2),
	"PRECIO_UNITARIO_O" NUMBER(10,2),
	"PRECIO_T" NUMBER(10,2),
	"PRECIO_O" NUMBER(10,2),
	"CONDICIONES" VARCHAR2(1000),
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0),
	"MODIFICADO" TIMESTAMP (6),
	"MODIFICADO_POR" NUMBER(10,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."ID" IS 'PK. Secuencia: NMC_OA_X_SERVICIOS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."OFERTA_ID" IS 'UK1. FK1 referencia a NMC_OFERTA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."NMC_OAH_ID" IS 'UK1. FK2 referencia a NMC_OAH.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."SERVICIO_ID" IS 'UK1. FK3 referencia a NMC_SERVICIOS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."DETALLE_ID" IS 'UK1. FK4 referencia a NMC_SERVICIOS_DETALLES.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."PRODUCTO" IS 'Identifica el producto al que se refiere la información de la
  oferta. Inicialmente los valores posibles serán dos: PT y VS.
  Todos los servicios de planes que implican la prestación de
  servicio como SPA deben informar al producto que aplican PT
  o VS.
  Para planes como el flexible productos este campo será
  NULL';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."PRICING_ID" IS 'FK 5. que referencia a NMC_TIPOS_PRICING.ID.
  Aquellos detalles de un servicio que no impliquen pricing pero
  que ofrezcan detalle sobre las actividades / servicios
  prestados en su contratacion llevaran en esta tabla registros
  cuyo tipo de pricing sera “Pricing No Necesario”';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."UNIDADES" IS 'Indicará el número de unidades incluidas en la oferta del
  detalle.
  Para los detalles de servicios con pricing precio unitario o sin
  necesidad de pricing será NULL';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."PRECIO_UNITARIO_T" IS 'Recoge el precio unitario teórico correspondiente al detalle del
  servicio indicado';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."PRECIO_UNITARIO_O" IS 'Recoge el precio unitario ofertado correspondiente al detalle
  del servicio indicado. Para todos los detalles cuyo pricing sea
  por unidades o por horas será el mismo valor que en
  precio_unitario_t ya que el usuario no puede modificarlo. Sin
  embargo para servicios con pricing, precio unitario, si que se
  puede modificar el precio unitario, este campo almacenará el
  precio ofertado al cliente.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."PRECIO_T" IS 'Recoge el precio teórico correspondiente al detalle del servicio
  indicado en función del resultado de multiplicar
  precio_unitario_t por unidades.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."PRECIO_O" IS 'Recoge el precio ofertado definitivo al detalle del servicio
  indicado por el usuario aplicando descuento.
  Para saber el % de descuento será suficiente con realizar el
  siguiente cálculo: 1 – (precio_o / precio_t)';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."CONDICIONES" IS 'Recogerá las condiciones particulares para la contratación del
  detalle particular.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."CREADO" IS 'Timestamp en el que se añade el detalle de servicio a la
  oferta.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."CREADO_POR" IS 'Recoge el usuario que añade el detalle de servicio a la oferta.
  FK6 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."MODIFICADO" IS 'Timestamp en el que se modifica por última vez el detalle de
  servicio a la oferta.
  Al añadir un detalle de servicio a una oferta se informará el
  mismo valor que en creado';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS"."MODIFICADO_POR" IS 'Recoge el usuario que modifica por última vez el detalle de
  servicio en una oferta.
  FK7 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
  Al añadir un detalle de servicio a una oferta se informará el
  mismo valor que en creado';

  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS_PK" ON "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ADD CONSTRAINT "NMC_OAH_X_SERVICIOS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("PRECIO_O" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("PRECIO_T" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("CREADO_POR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("PRECIO_UNITARIO_O" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("PRECIO_UNITARIO_T" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("PRICING_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("DETALLE_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("SERVICIO_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("NMC_OAH_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("OFERTA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ADD CONSTRAINT "NMC_OAH_X_SERVICIOS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ADD CONSTRAINT "NMC_OAH_X_SERVICIOS_FK2" FOREIGN KEY ("SERVICIO_ID")
	REFERENCES "GC2006_RELEASE"."NMC_SERVICIOS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ADD CONSTRAINT "NMC_OAH_X_SERVICIOS_FK3" FOREIGN KEY ("DETALLE_ID")
	REFERENCES "GC2006_RELEASE"."NMC_SERVICIOS_DETALLES" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ADD CONSTRAINT "NMC_OAH_X_SERVICIOS_FK4" FOREIGN KEY ("PRICING_ID")
	REFERENCES "GC2006_RELEASE"."NMC_TIPOS_PRICING" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ADD CONSTRAINT "NMC_OAH_X_SERVICIOS_FK5" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ADD CONSTRAINT "NMC_OAH_X_SERVICIOS_FK6" FOREIGN KEY ("MODIFICADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAH_X_SERVICIOS" ADD CONSTRAINT "NMC_OAH_X_SERVICIOS_FK7" FOREIGN KEY ("NMC_OAH_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OAH" ("ID") ENABLE;

-- ////////////NMC_OAP_X_SERVICIOS//////////////

CREATE TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"
   (	"ID" NUMBER(12,0),
	"OFERTA_ID" NUMBER(10,0),
	"NMC_OAP_ID" NUMBER(12,0),
	"SERVICIO_ID" NUMBER(6,0),
	"DETALLE_ID" NUMBER(8,0),
	"PRODUCTO" VARCHAR2(2),
	"PRICING_ID" NUMBER(2,0),
	"UNIDADES" NUMBER(10,0),
	"PRECIO_UNITARIO_T" NUMBER(10,2),
	"PRECIO_UNITARIO_O" NUMBER(10,2),
	"PRECIO_T" NUMBER(10,2),
	"PRECIO_O" NUMBER(10,2),
	"CONDICIONES" VARCHAR2(1000),
	"CREADO" TIMESTAMP (6),
	"CREADO_POR" NUMBER(10,0),
	"MODIFICADO" TIMESTAMP (6),
	"MODIFICADO_POR" NUMBER(10,0)
   ) ;

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."ID" IS 'PK. Secuencia: NMC_OAP_X_SERVICIOS_SEQ';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."OFERTA_ID" IS 'UK1. FK1 referencia a NMC_OFERTA.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."NMC_OAP_ID" IS 'UK1. FK2 referencia a NMC_OAP.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."SERVICIO_ID" IS 'UK1. FK3 referencia a NMC_SERVICIOS.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."DETALLE_ID" IS 'UK1. FK4 referencia a NMC_SERVICIOS_DETALLES.ID';
  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."PRODUCTO" IS 'Identifica el producto al que se refiere la información de la
  oferta. Inicialmente los valores posibles serán dos: PT y VS.
  Todos los servicios de planes que implican la prestación de
  servicio como SPA deben informar al producto que aplican PT
  o VS.
  Para planes como el flexible productos este campo será
  NULL';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."PRICING_ID" IS 'FK 5. que referencia a NMC_TIPOS_PRICING.ID.
  Aquellos detalles de un servicio que no impliquen pricing pero
  que ofrezcan detalle sobre las actividades / servicios
  prestados en su contratacion llevaran en esta tabla registros
  cuyo tipo de pricing sera “Pricing No Necesario”';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."UNIDADES" IS 'Indicará el número de unidades incluidas en la oferta del
  detalle.
  Para los detalles de servicios con pricing precio unitario o sin
  necesidad de pricing será NULL';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."PRECIO_UNITARIO_T" IS 'Recoge el precio unitario teórico correspondiente al detalle del
  servicio indicado';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."PRECIO_UNITARIO_O" IS 'Recoge el precio unitario ofertado correspondiente al detalle
  del servicio indicado. Para todos los detalles cuyo pricing sea
  por unidades o por horas será el mismo valor que en
  precio_unitario_t ya que el usuario no puede modificarlo. Sin
  embargo para servicios con pricing, precio unitario, si que se
  puede modificar el precio unitario, este campo almacenará el
  precio ofertado al cliente.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."PRECIO_T" IS 'Recoge el precio teórico correspondiente al detalle del servicio
  indicado en función del resultado de multiplicar
  precio_unitario_t por unidades.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."PRECIO_O" IS 'Recoge el precio ofertado definitivo al detalle del servicio
  indicado por el usuario aplicando descuento.
  Para saber el % de descuento será suficiente con realizar el
  siguiente cálculo: 1 – (precio_o / precio_t)';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."CONDICIONES" IS 'Recogerá las condiciones particulares para la contratación del
  detalle particular.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."CREADO" IS 'Timestamp en el que se añade el detalle de servicio a la
  oferta.';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."CREADO_POR" IS 'Recoge el usuario que añade el detalle de servicio a la oferta.
  FK6 que referencia a GC2006_RELEASE.PC_USUARIOS.ID';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."MODIFICADO" IS 'Timestamp en el que se modifica por última vez el detalle de
  servicio a la oferta.
  Al añadir un detalle de servicio a una oferta se informará el
  mismo valor que en creado';

  COMMENT ON COLUMN "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS"."MODIFICADO_POR" IS 'Recoge el usuario que modifica por última vez el detalle de
  servicio en una oferta.
  FK7 que referencia a GC2006_RELEASE.PC_USUARIOS.ID
  Al añadir un detalle de servicio a una oferta se informará el
  mismo valor que en creado';

  CREATE UNIQUE INDEX "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS_PK" ON "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ("ID")
  ;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ADD CONSTRAINT "NMC_OAP_X_SERVICIOS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("PRECIO_O" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("PRECIO_T" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("CREADO_POR" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("CREADO" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("PRECIO_UNITARIO_O" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("PRECIO_UNITARIO_T" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("PRICING_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("DETALLE_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("SERVICIO_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("NMC_OAP_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("OFERTA_ID" NOT NULL ENABLE);
  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" MODIFY ("ID" NOT NULL ENABLE);

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ADD CONSTRAINT "NMC_OAP_X_SERVICIOS_FK1" FOREIGN KEY ("OFERTA_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OFERTAS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ADD CONSTRAINT "NMC_OAP_X_SERVICIOS_FK2" FOREIGN KEY ("SERVICIO_ID")
	REFERENCES "GC2006_RELEASE"."NMC_SERVICIOS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ADD CONSTRAINT "NMC_OAP_X_SERVICIOS_FK3" FOREIGN KEY ("DETALLE_ID")
	REFERENCES "GC2006_RELEASE"."NMC_SERVICIOS_DETALLES" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ADD CONSTRAINT "NMC_OAP_X_SERVICIOS_FK4" FOREIGN KEY ("PRICING_ID")
	REFERENCES "GC2006_RELEASE"."NMC_TIPOS_PRICING" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ADD CONSTRAINT "NMC_OAP_X_SERVICIOS_FK5" FOREIGN KEY ("CREADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ADD CONSTRAINT "NMC_OAP_X_SERVICIOS_FK6" FOREIGN KEY ("MODIFICADO_POR")
	REFERENCES "GC2006_RELEASE"."PC_USUARIOS" ("ID") ENABLE;

  ALTER TABLE "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS" ADD CONSTRAINT "NMC_OAP_X_SERVICIOS_FK7" FOREIGN KEY ("NMC_OAP_ID")
	REFERENCES "GC2006_RELEASE"."NMC_OAP" ("ID") ENABLE;

-- ////////// NMC_OA_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OA_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OAP_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OAP_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OA_X_ESPECIALIDADES_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OA_X_ESPECIALIDADES_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OAP_X_ESPECIALIDADES_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OAP_X_ESPECIALIDADES_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OA_X_CENTROS_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OA_X_CENTROS_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OAP_X_CENTROS_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OAP_X_CENTROS_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OA_X_SERVICIOS_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OA_X_SERVICIOS_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OAP_X_SERVICIOS_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OAP_X_SERVICIOS_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OA_X_PRODUCTOS_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OA_X_PRODUCTOS_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;

-- ////////// NMC_OAP_X_PRODUCTOS_SEQ/////////////

  CREATE SEQUENCE  "GC2006_RELEASE"."NMC_OAP_X_PRODUCTOS_SEQ"  MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 0 CACHE 20 NOORDER  NOCYCLE ;
